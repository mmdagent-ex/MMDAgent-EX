# Contents on Web

Web サーバ上に公開されているコンテンツをダウンロードして起動できます。

## コンテンツをWebへ公開する

### PACKAGE_DESC.txt の編集

### インデックスの更新

### Webサーバへアップロード

利用する場合、まずコンテンツ公開側はコンテンツ一式をあらかじめ Webサーバにアップしておく必要があります。

> Webサーバはディレクトリアクセス可能である必要があります。すなわち、コンテンツ全体を `https://foo.bar/some/dir` という場所にアップした場合、そのコンテンツ内の `model/xxx.pmd` というファイルは `https://foo.bar/some/dir/model/xxx.pmd` というURLで直接アクセス可能になっている必要があります。これは MMDAgent-EX がファイルごとに個別にダウンロードステータスを管理しているためです。このため、Google Drive や DropBox といったファイルごとにユニークなダウンロードURLを生成するサイトは使えないので注意してください。

## Webにあるコンテンツを再生する

起動時に、Webコンテンツのトップディレクトリの URL をコマンド引数で与えることでダウンロードと再生が行われます。URLは `https://foo.bar/some/dir` のほか、`mmdagent://foo.bar/some/dir` のようにも指定可能です。

```shell
  % ./Release/MMDAgent-EX.exe mmdagent://foo.bar/some/dir
```

この方法でダウンロードされたコンテンツはディスクにキャッシュされ、２回目以降は高速に起動します。ダウンロードが中断した場合でも次回同じコンテンツを起動する際に続きから再開されます。

### コンテンツの自動更新

Webコンテンツは、常に同期して最新に保たれます。Web コンテンツの更新は定期的にチェックされ、差があるときは自動的に差分のダウンロード・更新が行われます。これにより、再生する Web コンテンツが常に最新であることが保証されます。

